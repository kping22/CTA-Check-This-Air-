# CTA-Check-This-Air-
창의적 종합 팀프로젝트(블루투스 미세먼지 측정기 및 시도별 미세먼지 정보 앱)

## 프로젝트 수행목표
### 1) 아두이노
- 미세먼지 센서 : 미세먼지를 측정하기 위해 아두이노에 결합을 하고 코드를 작성한다.
- 블루투스 센서 : 미세먼지 측정한 값을 스마트폰에 보내기 위해 결합을 하고 코드를 작성한다.
### 2) 스마트폰  
- 아두이노 미세먼지 값 수신 : 미세먼지값을 수신하기위한 페이로드를 받는 앱을 만든다.
- 공공 데이터 각시도별 공기측정값 표시 : 공공데이터를 신청하여 각 시도별 공기측정값을 검색하여 앱에서 검색값을 표시한다.  
## 프로젝트 개요도
![4 27PPT1](https://user-images.githubusercontent.com/58617250/74647369-e375b680-51be-11ea-9384-a82f14d96d47.PNG)
## 프로젝트 진행체계  
### 분석
1) 브레인스토밍을 통한 주제 선정된 것을 토대로 가격대 조사
2) 미세먼지 프로젝트가 실제로 할 수 있는지 센서들을 조사
3) 블루투스 센서를 통한 데이터 전송이 가능한지 조사
4) 공공데이터 포털을 통한 데이터를 스마트폰에 적용할 수 있는지에 대한 조사      
### 설계
1) 미세먼지 센서 구현 코드와 블루투스 구현 설계
2) 스마트폰 앱 데이터 송수신에 대한 구현 설계
3) 공공데이터 데이터 송수신에 대한 구현 설계
4) 아두이노 외장케이스 디자인 설계
5) 스마트폰 앱 내부 디자인 설계  
### 구현
1) 아두이노 미세먼지 센서 코드 구현
2) 아두이노 블루투스 센서 코드 구현
3) 스마트폰 미세먼지 데이터 값 수신 앱 구현
4) 스마트폰 공공데이터 시도별 데이터값 수신 구현  
### 테스트
1) 장소 세 곳을 정해 각각 미세먼지 측정값에 대한 테스트를 진행
2) 스마트폰앱이 블루투스를 통해 데이터를 수신 받을 시 일정 시간동안 프로그램 실행
3) 공공데이터를 잘 수신하는지 리스트를 바꿔가면서 테스트
4) 스마트폰에서 블루투스를 On/Off하면서 제대로 잘 연결이 되는지를 테스트

## 프로젝트 구현
### 아두이노
#### 1) 미세먼지 감지센서  
![5 19작업사진1](https://user-images.githubusercontent.com/58617250/74649738-829cad00-51c3-11ea-85c0-95ca77d46f70.PNG)
![6 9 작업사진](https://user-images.githubusercontent.com/58617250/74649839-bb3c8680-51c3-11ea-93e8-08d47861d6b2.png)
- 아두이노 미세먼지 센서를 아두이노에 결합하여 학교내에서 측정결과 50ug/m3 정도의 데이터 값이 측정이 되었다. 조금 높은 수치라 할 수 있다. 이렇게 높은 수치가 나오는 이유는 0보다 수치가 작게 나오거나 200 이상의 수치가 지속적으로 나오는 경우 평균을 낼 때 수치가 높게 나올 수밖에 없다. 그림3의 노이즈 제거를 위한 IF문을 두어 노이즈가 나오는 경우는 0을 더하고 그 외엔 값을 그대로 더하여 평균적인 수치를 낸다.
#### 2) 블루투스 센서
![5 21 작업사진](https://user-images.githubusercontent.com/58617250/74649922-ec1cbb80-51c3-11ea-8132-1391ae1a269a.jpg)
- 아두이노에서 측정한 데이터 값을 스마트폰에서 전송을 받기위해 블루투스를 사용하였다. 페이로드에 올리기 위해서 데이터를 Byte타입으로 바꾼다. 그후 write를 통해 페이로드를 작성을 한다.

### 스마트폰
#### 1) 미세먼지측정데이터 블루투스 통신앱
![6 8 작업사진1](https://user-images.githubusercontent.com/58617250/74649998-15d5e280-51c4-11ea-9f49-5e9b07833958.jpg)
![6 8 작업사진4](https://user-images.githubusercontent.com/58617250/74650001-166e7900-51c4-11ea-8f24-df03bc084d07.jpg)
- 앱구현을  통해 초기화면을 구성하여 실행을 한 화면이다. 그리고나서 블루투스 기능을 스마트폰에서 켤 수 있게 한다. 그 후 블루투스 목록이 뜨는데 그중에서 아두이노와 연결된 블루투스 센서와 페이링하여 측정값을 받기 시작한다.
#### 2) 공공데이터 각시도별 수치
![6 8 작업사진5](https://user-images.githubusercontent.com/58617250/74650076-3ef67300-51c4-11ea-8aa3-4908ca335106.jpg)
- 리스트를 통하여 검색을 하여 각 시도별 공기 측정값을 보여준다.

## 프로젝트 수행 결과
### 1) 아두이노 블루투스, 미세먼지 센서 장치
![6 10 작업사진1](https://user-images.githubusercontent.com/58617250/74650137-63524f80-51c4-11ea-9e4e-0cbb37612c34.jpg)
- 아두이노 블루투스 센서와 미세먼지 센서, 전지, 아두이노 본체, 어댑터 모듈을 넣을 케이스를 제작하였다. 저 안쪽의 미세먼지 센서 아래의 블루투스 센서가 스마트폰과 페어링됬을 때는 LED가 깜빡깜빡한다. 그리고나서 페어링이 완료되면 깜빡이던 것이 멈춘 상태로 LED가 계속 켜진다.

|  |12시측정|18시측정|
|:------:|:---:|:---:|
|집|40|42|
|학교 내부(1층 로비)|28|33|
|흥업사거리|37|39|


## 프로젝트 기대효과
### 1) 편의성
- 현재 미세먼지 측정기들이 다양한 크기로 만들어지고 있는데 문제는 미세먼지 측정기 단말기 자체만으로 계측 값을 보여주어야 하는 LCD 와 같은 부분을 많이 이용하고 있기 때문에 실질적으로 부피로 인한 휴대성에 불편함이 다소 우려가 있다. 그러므로 현대인의 필수품인 스마트폰을 이용하여 앱을 설치하고 아두이노 단말기에서 데이터를 보냄으로써 실시간으로 전송받아 측정값을 보는 방식으로 최소한의 부피로 편의성을 개선시키는 것이다.
### 2) 경각심 고취
- 요즘 중국 발 미세먼지로 인해 국내 환경공해가 심각하게 대두되고 있는 상황에서 자신이 현재 있는 장소의 구체적인 미세먼지 농도를 알 수 있다면 많은 사람들이 미세먼지에 대한 경각심을 가지며 알맞게 대처 할 수 있고 환경개선의 인식 또한 넓혀줄 수 있을 것이다. 
